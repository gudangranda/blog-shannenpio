/*! Accordion TOC for Blogger V2 <https://dte-project.github.io/blogger/stacked-toc.html> */
!function(e,t){function r(e,t){function r(e){return decodeURIComponent(e)}function n(e){return void 0!==e}function i(e){return"string"==typeof e}function a(e){return i(e)&&""!==e.trim()?'""'===e||"[]"===e||"{}"===e||'"'===e[0]&&'"'===e.slice(-1)||"["===e[0]&&"]"===e.slice(-1)||"{"===e[0]&&"}"===e.slice(-1):!1}function s(e){if(i(e)){if("true"===e)return!0;if("false"===e)return!1;if("null"===e)return null;if("'"===e.slice(0,1)&&"'"===e.slice(-1))return e.slice(1,-1);if(/^-?(\d*\.)?\d+$/.test(e))return+e;if(a(e))try{return JSON.parse(e)}catch(t){}}return e}function o(e,t,r){for(var n,i=t.split("["),a=0,s=i.length;s-1>a;++a)n=i[a].replace(/\]$/,""),e=e[n]||(e[n]={});e[i[a].replace(/\]$/,"")]=r}var l={},c=e.replace(/^.*?\?/,"");return""===c?l:(c.split(/&(?:amp;)?/).forEach(function(e){var i=e.split("="),a=r(i[0]),c=n(i[1])?r(i[1]):!0;c=!n(t)||t?s(c):c,"]"===a.slice(-1)?o(l,a,c):l[a]=c}),l)}e[t]=r}(window,"q2o"),function(e,t){function r(e){return encodeURIComponent(e)}function n(e){return void 0!==e}function i(e){return"string"==typeof e}function a(e){return"number"==typeof e||/^-?(\d*\.)?\d+$/.test(e)}function s(e){return null!==e&&"object"==typeof e}function o(e,t){t=t||{};for(var r in e)n(t[r])?s(e[r])&&s(t[r])&&(t[r]=o(e[r],t[r])):t[r]=e[r];return t}function l(e,t,r){e.addEventListener(t,r,!1)}function c(e,t){var r,i,a={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(r in a)if(n(e.style[r])){i=a[r];break}i?l(e,i,function(){t(e)}):t(e)}function f(e,r,i){if(e=t.createElement(e),n(r)&&""!==r&&(e.innerHTML=r),s(i))for(var a in i)i[a]!==!1&&e.setAttribute(a,i[a]);return e}function u(e,t){t=t.split(/\s+/);for(var r;r=t.shift();)e.classList.add(r)}function d(e,t){t=t.split(/\s+/);for(var r;r=t.shift();)e.classList.remove(r)}function h(e,t){return e.classList.contains(t)}function p(e,t,r){t&&e.insertBefore(t,r)}function g(e){e.parentNode&&e.parentNode.removeChild(e)}function m(e,t){var n,i=[];for(n in e)i.push(r(n)+"="+r(e[n]));return"?"+i.join(t||"&")}function v(e,t){return e=(e+"").split(/[?&#]/)[0].replace(/\/+$/,""),n(t)&&(e=e.replace(/\.[\w-]+$/,t?"."+t:"")),e}function y(e){return a(e)?("file:"===T.protocol?"https:":"")+"//www.blogger.com/feeds/"+e+"/posts/summary":v(e)+"/feeds/posts/summary"}function b(e,t,r){var n=/\.css$/i.test(v(e)),i=f(n?"link":"script","",o(n?{href:e,rel:"stylesheet"}:{src:e},r));return i.readyState?i.onreadystatechange=function(){("loaded"===i.readyState||"complete"===i.readyState)&&(i.onreadystatechange=null,t&&t(i))}:t&&l(i,"load",t),p(D,i,D.firstChild),i}function x(e,t,r){r=r||[],r.unshift(t),"function"==typeof J&&J.apply(e,r)}function $(){if(A!==!1){var e=+(H.getItem(B)||-1);if(e>A)return H.setItem(B,0),!0;H.setItem(B,++e)}return!1}function w(e,t){var r,n=e.split("T"),i=n[0].split("-"),a=n[1].split("+")[0].split(":"),s=+a[0],o=s%12||12,l={"M~":W.months[+i[1]-1],"D~":W.days[new Date(e).getDay()],"h~":s+"",Y:i[0],M:i[1],D:i[2],h:o+"",m:a[1],s:Math.floor(+a[2])+"",N:W.noon[12>o||24===o?0:1]};for(r in l)t=t.replace(/\\%/g,"&#37;").replace(RegExp("%"+r+"%","g"),l[r]);return t}function k(){L.id||(L.id=B+"-js"),u(L,B+"-js");var e=R.container,r=R.css;r&&!t.getElementById(B+"-css")&&b(i(r)?r:v(L.src,"css"),function(){x(this,"load.asset",[this.href])},{"class":B+"-css",id:B+"-css"}),b(y(O)+m(o(R.query,{callback:"_"+E,"max-results":0})),function(){e?(e=t.querySelector(e),e&&(e.innerHTML=""),p(e,z)):p(L.parentNode,z,L),d(z.parentNode,B+"-loading"),x(this,"load.asset",[this.src]);var r=R.active;a(r)&&(r=C[r]),S[r]&&S[r].click()})}var N,M=e.q2o,L=t.currentScript,T=e.location,H=e.localStorage,S={},C=[],j={},q=9999,E=Date.now(),_={i:E,direction:"ltr",url:T.protocol+"//"+T.host,name:"stacked-toc",css:1,sort:1,ad:!0,toggle:!0,active:0,container:0,date:"%M~% %D%, %Y% %h%:%m% %N%",excerpt:0,image:0,target:0,load:0,recent:7,hide:[],text:{title:"Table of Content",loading:"Loading&hellip;",noon:["AM","PM"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],recent:" <sup>New!</sup>"},query:{alt:"json",orderby:"published","max-results":q,"start-index":1}},D=t.head,R=o(_,M(L.src)),I=R.i,O=R.id||v(R.url),B=R.name,A=R.ad,W=R.text,J=R.e,z=f("div",'<h3 class="'+B+'-title">'+W.title+"</h3>",{"class":B+" "+R.direction,id:B+":"+I}),P=f("p",W.loading,{"class":B+"-loading"});J=J&&e[J],A===!0&&(A=3);var F=M(T.search);n(F[I])&&(delete F[I].url,R=o(R,F[I])),e["_"+E]=function(t){function n(){for($ in j)j[$].offsetHeight&&(j[$].style.height=j[$].scrollHeight+"px")}function s(e){var t=this.parentNode.id.split(":")[1],n=this.title,i=z.parentNode,a=S[n].parentNode,s=j[n];if(-1===R.toggle)for($ in j)$!==n&&!j[$].offsetHeight&&(j[$].style.height=0);else{for($ in S)$!==n&&d(S[$].parentNode,"active");for($ in j)$!==n&&(d(j[$],"active"),j[$].style.height=0)}s.$||(u(a,"loading"),u(s,"loading"),u(i,B+"-loading"),p(z,P,s),b(y(O)+"/-/"+r(n)+m(o(R.query,{callback:"_"+(E+1)})),function(){d(a,"loading"),d(s,"loading"),d(i,B+"-loading"),g(P),s.style.height=s.scrollHeight+"px"},{"class":B+"-js",id:B+"-js:"+t})),h(a,"active")?R.toggle&&(d(a,"active"),d(s,"active"),s.style.height=0):(u(a,"active"),u(s,"active"),s.style.height=s.scrollHeight+"px"),x(this,"click",[{},S,j]),x(z,"change",[{},a,s]),e.preventDefault()}t=t.feed||{};var $,w=R.sort,k=t.entry||[],N=t.category||[],M=(k.length,N.length);a(w)?(w=+w,N=N.sort(function(e,t){return e.term.localeCompare(t.term)}),-1===w&&(N=N.reverse())):i(w)&&(w=e[w],N=N.sort(w));var L,T,H,q=Object.values(R.hide);for($=0;M>$;++$){var _=N[$].term;q.indexOf(_)>-1||(L=f("a",_,{href:v(R.url)+"/search/label/"+r(_),title:_}),T=f("h4","",{"class":B+"-header "+B+"-header:"+$+" "+B+"-title",id:B+"-header:"+I+"."+$}),H=f("ol","",{"class":B+"-panel "+B+"-panel:"+$,id:B+"-panel:"+I+"."+$,style:"overflow:hidden;"}),c(H,function(e){e.offsetHeight&&(e.style.height="")}),C.push(_),S[_]=L,l(L,"touchstart",n),l(L,"mousedown",n),l(L,"click",s),p(T,L),p(z,T),p(z,j[_]=H))}x(z,"load",[t,S,j])},e["_"+(E+1)]=function(t){t=t.feed||{};var n,s,c=R.sort,g=((t.link.find(function(e){return"alternate"===e.rel})||{}).href||"").split("/").pop(),v=t.entry||[],k=v.length,M=j[g];for(k&&!h(M,"active")&&S[g].click(),n=0;k>n;++n){var L=n<R.recent?W.recent:"";v[n].$=!!L,v[n].title.$t+=L}a(c)?(c=+c,v=v.sort(function(e,t){return e.title.$t.localeCompare(t.title.$t)}),-1===c&&(v=v.reverse())):i(c)&&(c=e[c],v=v.sort(c));var T=R.target,H=R.image,C=R.excerpt,q="has-title has-url";R.date&&(q+=" has-time"),H&&(q+=" has-image"),C&&(q+=" has-excerpt"),u(z,q),N=function(e){if(e){var t=e.published.$t,r=(e.link.find(function(e){return"alternate"===e.rel})||{}).href;if(str="",r){if(H){var n,i,s,o="media$thumbnail"in e;H===!0&&(H=80),a(H)?(n=i=H+"px",H="s"+H+"-c"):(s=/^s(\d+)(\-[cp])?$/.exec(H))?(n=s[1]+"px",i=s[2]?s[1]+"px":"auto"):(s=/^w(\d+)\-h(\d+)(\-[cp])?$/.exec(H))&&(n=s[1]+"px",i=s[2]+"px"),str+='<p class="'+B+"-image "+(o?"loading":"no-image")+'">',str+=o?'<img alt="" src="'+e.media$thumbnail.url.replace(/\/s\d+(\-c)?\//g,"/"+H+"/")+'" style="display:block;width:'+n+";height:"+i+';">':'<span class="img" style="display:block;width:'+n+";height:"+i+';">',str+="</p>"}if(str+='<h5 class="'+B+'-title"><a href="'+r+'"'+(T?' target="'+T+'"':"")+">"+e.title.$t+"</a></h5>",R.date&&(str+='<p class="'+B+'-time"><time datetime="'+t+'">'+w(t,R.date)+"</time></p>"),C){var l=e.summary.$t.replace(/<.*?>/g,"").replace(/[<>]/g,"").trim(),c=l.length;C===!0&&(C=200),str+='<p class="'+B+"-excerpt"+(c?"":" no-excerpt")+'">'+l.slice(0,C)+(c>C?"&hellip;":"")+"</p>"}return f("li",str,{"class":e.$?"recent":!1})}}};for(n=0;k>n;++n)p(M,N(v[n]));if(H){var _=M.getElementsByTagName("img"),D=function(){u(this.parentNode,"error"),x(this,"error.asset",[this.src])},I=function(){d(this.parentNode,"loading"),x(this,"load.asset",[this.src])};for(n=0,s=_.length;s>n;++n)l(_[n],"error",D),l(_[n],"load",I)}$()&&b(y("298900102869691923")+m(o(R.query,{callback:"_"+E+"_","max-results":21,orderby:"updated"}))+"&q="+r(g.toLowerCase())),j[g].$=!0,x(j[g],"load",[{},S,j])},e["_"+E+"_"]=function(e){e=e.feed||{};var t=e.entry||[];t=t[Math.floor(Math.random()*t.length)],(t=N(t))&&(u(t,"ad"),p(ol,t,ol.firstChild),h(ol,"active")&&(ol.style.height=ol.scrollHeight+"px")),x(t,"load.ad",[e,S,j])},a(R.load)?e.setTimeout(k,+R.load):R.load===!0?l(e,"load",k):k(),x(z,"ready",[R,S,j])}(window,document);